export { DEBUGgetReducedWeatherResponse };

function DEBUGgetReducedWeatherResponse() {
	console.log("Now simulating weather async request, 1500 ms.");
	return new Promise(function (resolve) {
		setTimeout(() => {
			console.log("DEBUG reduced weather response: timeout complete. Returning response now.");
			resolve(reduceApiResponse(testDarkSkyApi));
		}, 1500)
	})
}

function reduceApiResponse(resp) {
	let s = {
		latitude: resp.latitude,
		longitude: resp.longitude,
		retrievalDate: resp.currently.time * 1000,
		currentWeather: {
			temperature: resp.currently.temperature,
			apparentTemperature: resp.currently.apparentTemperature,
			summary: resp.currently.summary,
			icon: resp.currently.icon
		},
		dailyWeather: []
	};

	resp.daily.data.forEach(day => {
		let d = {
			time: day.time * 1000,
			summary: day.summary,
			icon: day.icon,
			temperatureHigh: day.temperatureHigh,
			temperatureLow: day.temperatureLow
		};
		s.dailyWeather.push(d);
	});

	console.log(s);
	return s;
}

const testDarkSkyApi = {
	latitude: 51.910871199999995,
	longitude: 4.456558,
	timezone: "Europe/Amsterdam",
	currently: {
		time: 1521808686,
		summary: "Partly Cloudy",
		icon: "partly-cloudy-day",
		precipIntensity: 0,
		precipProbability: 0,
		temperature: 44.49,
		apparentTemperature: 36.9,
		dewPoint: 34.81,
		humidity: 0.69,
		pressure: 1003.51,
		windSpeed: 17.66,
		windGust: 21.87,
		windBearing: 194,
		cloudCover: 0.4,
		uvIndex: 2,
		visibility: 6.22,
		ozone: 389.19
	},
	daily: {
		summary:
			"Light rain tomorrow through Wednesday, with temperatures falling to 42Â°F on Thursday.",
		icon: "rain",
		data: [
			{
				time: 1521759600,
				summary: "Mostly cloudy throughout the day.",
				icon: "partly-cloudy-day",
				sunriseTime: 1521783536,
				sunsetTime: 1521828058,
				moonPhase: 0.21,
				precipIntensity: 0.001,
				precipIntensityMax: 0.0047,
				precipIntensityMaxTime: 1521817200,
				precipProbability: 0.34,
				precipType: "rain",
				temperatureHigh: 45.44,
				temperatureHighTime: 1521820800,
				temperatureLow: 39.25,
				temperatureLowTime: 1521871200,
				apparentTemperatureHigh: 39.71,
				apparentTemperatureHighTime: 1521828000,
				apparentTemperatureLow: 36.83,
				apparentTemperatureLowTime: 1521871200,
				dewPoint: 38.22,
				humidity: 0.82,
				pressure: 1005.62,
				windSpeed: 11.42,
				windGust: 25.92,
				windGustTime: 1521799200,
				windBearing: 205,
				cloudCover: 0.71,
				uvIndex: 2,
				uvIndexTime: 1521802800,
				visibility: 5.92,
				ozone: 386.57,
				temperatureMin: 40.75,
				temperatureMinTime: 1521784800,
				temperatureMax: 45.44,
				temperatureMaxTime: 1521820800,
				apparentTemperatureMin: 34.06,
				apparentTemperatureMinTime: 1521792000,
				apparentTemperatureMax: 39.95,
				apparentTemperatureMaxTime: 1521831600
			},
			{
				time: 1521846000,
				summary: "Mostly cloudy throughout the day.",
				icon: "partly-cloudy-day",
				sunriseTime: 1521869796,
				sunsetTime: 1521914560,
				moonPhase: 0.25,
				precipIntensity: 0.0019,
				precipIntensityMax: 0.0125,
				precipIntensityMaxTime: 1521925200,
				precipProbability: 0.32,
				precipType: "rain",
				temperatureHigh: 50.98,
				temperatureHighTime: 1521900000,
				temperatureLow: 36.36,
				temperatureLowTime: 1521957600,
				apparentTemperatureHigh: 50.98,
				apparentTemperatureHighTime: 1521900000,
				apparentTemperatureLow: 31.25,
				apparentTemperatureLowTime: 1521957600,
				dewPoint: 41.31,
				humidity: 0.86,
				pressure: 1002.31,
				windSpeed: 1.15,
				windGust: 13.57,
				windGustTime: 1521846000,
				windBearing: 175,
				cloudCover: 0.7,
				uvIndex: 2,
				uvIndexTime: 1521889200,
				ozone: 393.69,
				temperatureMin: 39.25,
				temperatureMinTime: 1521871200,
				temperatureMax: 50.98,
				temperatureMaxTime: 1521900000,
				apparentTemperatureMin: 36.83,
				apparentTemperatureMinTime: 1521871200,
				apparentTemperatureMax: 50.98,
				apparentTemperatureMaxTime: 1521900000
			},
			{
				time: 1521932400,
				summary: "Mostly cloudy throughout the day.",
				icon: "partly-cloudy-day",
				sunriseTime: 1521956056,
				sunsetTime: 1522001062,
				moonPhase: 0.28,
				precipIntensity: 0.0009,
				precipIntensityMax: 0.0077,
				precipIntensityMaxTime: 1521932400,
				precipProbability: 0.35,
				precipType: "rain",
				temperatureHigh: 49.31,
				temperatureHighTime: 1521986400,
				temperatureLow: 37.53,
				temperatureLowTime: 1522015200,
				apparentTemperatureHigh: 45.09,
				apparentTemperatureHighTime: 1521986400,
				apparentTemperatureLow: 32.28,
				apparentTemperatureLowTime: 1522015200,
				dewPoint: 39.06,
				humidity: 0.86,
				pressure: 1009.18,
				windSpeed: 5.99,
				windGust: 17.37,
				windGustTime: 1521993600,
				windBearing: 302,
				cloudCover: 0.81,
				uvIndex: 2,
				uvIndexTime: 1521979200,
				ozone: 399.01,
				temperatureMin: 36.36,
				temperatureMinTime: 1521957600,
				temperatureMax: 49.31,
				temperatureMaxTime: 1521986400,
				apparentTemperatureMin: 31.25,
				apparentTemperatureMinTime: 1521957600,
				apparentTemperatureMax: 45.09,
				apparentTemperatureMaxTime: 1521986400
			},
			{
				time: 1522015200,
				summary: "Partly cloudy throughout the day.",
				icon: "partly-cloudy-day",
				sunriseTime: 1522042322,
				sunsetTime: 1522087559,
				moonPhase: 0.32,
				precipIntensity: 0.0001,
				precipIntensityMax: 0.0002,
				precipIntensityMaxTime: 1522076400,
				precipProbability: 0.13,
				precipType: "rain",
				temperatureHigh: 49.64,
				temperatureHighTime: 1522072800,
				temperatureLow: 34.9,
				temperatureLowTime: 1522130400,
				apparentTemperatureHigh: 45.24,
				apparentTemperatureHighTime: 1522072800,
				apparentTemperatureLow: 28,
				apparentTemperatureLowTime: 1522130400,
				dewPoint: 37.63,
				humidity: 0.8,
				pressure: 1014.94,
				windSpeed: 6.45,
				windGust: 12.13,
				windGustTime: 1522076400,
				windBearing: 298,
				cloudCover: 0.47,
				uvIndex: 2,
				uvIndexTime: 1522058400,
				ozone: 415.93,
				temperatureMin: 37.53,
				temperatureMinTime: 1522015200,
				temperatureMax: 49.64,
				temperatureMaxTime: 1522072800,
				apparentTemperatureMin: 32.28,
				apparentTemperatureMinTime: 1522015200,
				apparentTemperatureMax: 45.24,
				apparentTemperatureMaxTime: 1522072800
			},
			{
				time: 1522101600,
				summary: "Rain starting in the evening and breezy overnight.",
				icon: "rain",
				sunriseTime: 1522128582,
				sunsetTime: 1522174061,
				moonPhase: 0.36,
				precipIntensity: 0.0218,
				precipIntensityMax: 0.0857,
				precipIntensityMaxTime: 1522170000,
				precipProbability: 0.52,
				precipType: "rain",
				temperatureHigh: 47.42,
				temperatureHighTime: 1522152000,
				temperatureLow: 36.44,
				temperatureLowTime: 1522216800,
				apparentTemperatureHigh: 42.01,
				apparentTemperatureHighTime: 1522152000,
				apparentTemperatureLow: 29.25,
				apparentTemperatureLowTime: 1522216800,
				dewPoint: 37.56,
				humidity: 0.9,
				pressure: 1011.08,
				windSpeed: 9.4,
				windGust: 37.49,
				windGustTime: 1522141200,
				windBearing: 197,
				cloudCover: 0.86,
				uvIndex: 2,
				uvIndexTime: 1522152000,
				ozone: 390.65,
				temperatureMin: 34.9,
				temperatureMinTime: 1522130400,
				temperatureMax: 47.42,
				temperatureMaxTime: 1522152000,
				apparentTemperatureMin: 28,
				apparentTemperatureMinTime: 1522130400,
				apparentTemperatureMax: 42.01,
				apparentTemperatureMaxTime: 1522152000
			},
			{
				time: 1522188000,
				summary:
					"Light rain in the morning and breezy starting in the afternoon, continuing until evening.",
				icon: "rain",
				sunriseTime: 1522214843,
				sunsetTime: 1522260562,
				moonPhase: 0.39,
				precipIntensity: 0.0192,
				precipIntensityMax: 0.051,
				precipIntensityMaxTime: 1522195200,
				precipProbability: 0.76,
				precipType: "rain",
				temperatureHigh: 38.83,
				temperatureHighTime: 1522256400,
				temperatureLow: 29.3,
				temperatureLowTime: 1522303200,
				apparentTemperatureHigh: 30.25,
				apparentTemperatureHighTime: 1522213200,
				apparentTemperatureLow: 21.07,
				apparentTemperatureLowTime: 1522303200,
				dewPoint: 33.98,
				humidity: 0.85,
				pressure: 1000.02,
				windSpeed: 8.92,
				windGust: 41.37,
				windGustTime: 1522202400,
				windBearing: 24,
				cloudCover: 0.91,
				uvIndex: 1,
				uvIndexTime: 1522227600,
				ozone: 417.63,
				temperatureMin: 33.92,
				temperatureMinTime: 1522234800,
				temperatureMax: 44.82,
				temperatureMaxTime: 1522188000,
				apparentTemperatureMin: 22.69,
				apparentTemperatureMinTime: 1522234800,
				apparentTemperatureMax: 37.65,
				apparentTemperatureMaxTime: 1522188000
			},
			{
				time: 1522274400,
				summary: "Mostly cloudy throughout the day.",
				icon: "partly-cloudy-day",
				sunriseTime: 1522301103,
				sunsetTime: 1522347064,
				moonPhase: 0.43,
				precipIntensity: 0.0001,
				precipIntensityMax: 0.0003,
				precipIntensityMaxTime: 1522335600,
				precipProbability: 0.12,
				precipType: "rain",
				temperatureHigh: 42.03,
				temperatureHighTime: 1522332000,
				temperatureLow: 33.15,
				temperatureLowTime: 1522364400,
				apparentTemperatureHigh: 36.17,
				apparentTemperatureHighTime: 1522332000,
				apparentTemperatureLow: 23.87,
				apparentTemperatureLowTime: 1522364400,
				dewPoint: 27.03,
				humidity: 0.69,
				pressure: 1017.59,
				windSpeed: 7.87,
				windGust: 29.48,
				windGustTime: 1522357200,
				windBearing: 42,
				cloudCover: 0.66,
				uvIndex: 2,
				uvIndexTime: 1522321200,
				ozone: 433.14,
				temperatureMin: 29.3,
				temperatureMinTime: 1522303200,
				temperatureMax: 42.03,
				temperatureMaxTime: 1522332000,
				apparentTemperatureMin: 21.07,
				apparentTemperatureMinTime: 1522303200,
				apparentTemperatureMax: 36.17,
				apparentTemperatureMaxTime: 1522332000
			},
			{
				time: 1522360800,
				summary: "Mostly cloudy throughout the day.",
				icon: "partly-cloudy-day",
				sunriseTime: 1522387364,
				sunsetTime: 1522433566,
				moonPhase: 0.47,
				precipIntensity: 0.003,
				precipIntensityMax: 0.0206,
				precipIntensityMaxTime: 1522443600,
				precipProbability: 0.28,
				precipType: "rain",
				temperatureHigh: 43.2,
				temperatureHighTime: 1522422000,
				temperatureLow: 34.52,
				temperatureLowTime: 1522450800,
				apparentTemperatureHigh: 33.84,
				apparentTemperatureHighTime: 1522422000,
				apparentTemperatureLow: 22.81,
				apparentTemperatureLowTime: 1522447200,
				dewPoint: 25.56,
				humidity: 0.6,
				pressure: 1011.7,
				windSpeed: 18.46,
				windGust: 28.29,
				windGustTime: 1522360800,
				windBearing: 92,
				cloudCover: 0.77,
				uvIndex: 2,
				uvIndexTime: 1522411200,
				ozone: 431.83,
				temperatureMin: 33.15,
				temperatureMinTime: 1522364400,
				temperatureMax: 43.2,
				temperatureMaxTime: 1522422000,
				apparentTemperatureMin: 23.87,
				apparentTemperatureMinTime: 1522364400,
				apparentTemperatureMax: 33.84,
				apparentTemperatureMaxTime: 1522422000
			}
		]
	},
	flags: {
		sources: ["isd", "cmc", "gfs", "madis", "darksky"],
		"isd-stations": [
			"062000-99999",
			"062100-99999",
			"062400-99999",
			"062540-99999",
			"062600-99999",
			"063240-99999",
			"063250-99999",
			"063300-99999",
			"063310-99999",
			"063400-99999",
			"063430-99999",
			"063440-99999",
			"063480-99999",
			"063500-99999",
			"063560-99999",
			"996660-99999"
		],
		units: "us"
	},
	offset: 1
};